{% block content %}

  <div ng-controller="WebspaceController" ng-init="token='{{ csrf_token }}'">	
    <h1 class="text-primary center"> WebSpace </h1>
    <style>
      .form-group {margin-bottom: 1rem; width: 20rem;} 
    </style>
    {% verbatim %} 
    <div ng-if="websites.length > 0">
      <h4 class="text-primary center">Your Websites</h4>
      <div class="container" id="website_list">
        <table class="table">
        <thead>
          <tr><th scope="col">Site Name</th><th scope="col">Site Link</th><th scope="col">Site Admin Link</th></tr> 
        </thead>
        <tbody id="website_table_body">
          <tr ng-repeat="website in websites" id="{{website.name}}"><td class="table-cell text-info">{{website.name}}</td><td><a class="text-info" href="{{website.site}}" target="_blank">{{website.site}}</a></td><td><a class="text-info" href="{{website.admin_site}}" target="_blank">{{website.admin_site}}</a></td><td class="table-cell"><button type="button" class="btn-red" ng-click="delete_site($event)">Delete Site</button></td></tr>
        </tbody>
        </table>
      </div>
    </div>
    {% endverbatim %}
    <p class="text-info text-center"> Fill in details of the website you will like to create and click on Create Site </p> 
    <form class="needs-validation" id="create_webspace_form" action="webspace/create_webspace" novalidate>{% csrf_token %}
      <div class="container">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="site name" id="site_name" name="site_name" pattern="\S{1,30}" required>
          <div class="invalid-feedback">
            Please provide a site name without spaces and less than 30 characters
          </div>
        </div>
        <div class="form-group">
          <input type="email" class="form-control" placeholder="admin email address" id="admin_email" name="admin_email" pattern="\S{1,30}" required>
          <div class="invalid-feedback">
            Please provide a valid email address less than 30 characters
          </div>

        </div>
        <div class="form-group">
          <input type="password" class="form-control" placeholder="admin password" id="admin_password" name="admin_password" pattern="\S{8,30}" required>
          <div class="invalid-feedback">
            Please provide a valid password between 8 and 30 characters 
          </div>
        </div>
        <span class="input-group-btn">
          <button class="btn btn-dark" type="button" href ng-click="click_create_site()" >Create Site</button>
        </span>
      </div>
    </form>
  </div>
<div id="create_site_results" class="text-info text-center"></div>
</div>
{% endblock %}
